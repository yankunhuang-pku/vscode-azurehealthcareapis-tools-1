trigger:
  branches:
    include:
    - main

stages: 
- stage: FhirConverter
  jobs:
  - job: Build
    displayName: Fhir Converter Build -

    continueOnError: true

    strategy:
      matrix:
        Windows:
          imageName: 'windows-lastest'
        Macos:
          imageName: "macos-latest"
      maxParallel: 2

    pool:
      vmImage: $(imageName)

    variables:
      basicPath: $(Build.SourcesDirectory)/FHIR-Converter

    steps:
    - template: ./fhir-converter-pipeline.yml

stages: 
- stage: FhirConverter
  jobs:
  - job: Build
    displayName: Fhir Converter Build -

    continueOnError: true

    strategy:
      matrix:
        Windows:
          imageName: 'windows-lastest'
        Macos:
          imageName: "macos-latest"
      maxParallel: 2

    pool:
      vmImage: $(imageName)

    variables:
      basicPath: $(Build.SourcesDirectory)/FHIR-Converter

    steps:
    - template: ./fhir-converter-pipeline.yml
